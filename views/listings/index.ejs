<% layout("layouts/boilerplate") %>

<h1 class="listing-title mb-4">All Listings</h1>

<div class="row row-cols-lg-3 row-cols-md-2 row-cols-1 g-4 ">
  <% listings.forEach(listing => { %>
    <a href="/listings/<%= listing.id %>" 
        class="col-link text-decoration-none text-dark">
    <div class="col">
      <div class="card card-1 h-90 shadow-sm"
     >
        <img
          loading="lazy"
          style="height: 12rem;"
          src="<%= listing.image.url.replace('/upload', '/upload/w_600,c_fill,f_auto,q_auto') %>"
          class="card-img-top"
          alt="<%= listing.title %>"
        />
        <div class="card-body">
          <p class="card-text">
            <b><%= listing.title %></b><br />
            Price: â‚¹<%= listing.price.toLocaleString("en-IN") %><br />
            Location: <%= listing.location %>, <%= listing.country %>
          </p>
        </div>
      </div>
    </div>
    </a>
  <% }) %>
</div>


<!-- Compare this snippet from views/listings/layouts/boilerplate.ejs: -->
 <!-- <form action="/listings/new" method="GET">
        <button class="create-listing-button" type="submit">Create New Listing</button>
    </form> -->
